# üé¨ PRIME Forge - –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞

## üìä Flowchart - –ü–æ—Ç–æ–∫ —ç–∫—Ä–∞–Ω–æ–≤

```mermaid
flowchart TD
    A[App Start] --> B{First Launch?}
    B -->|Yes| C[Intro Screen]
    B -->|No| G[Login Screen]
    
    C --> D{User Choice}
    D -->|"–ù–∞—á–∞—Ç—å –ø—É—Ç—å"| E[Onboarding Flow]
    D -->|"–£–∂–µ –≤ –ø—É—Ç–∏"| G[Login Screen]
    
    E --> E1[Name Input]
    E1 --> E2[Habits Selection]
    E2 --> E3[Ready Screen]
    E3 --> H[Path Page - First Time]
    
    G --> I[Login Process]
    I --> J[Path Page - Regular]
    
    style C fill:#660000,stroke:#E9E1D1,color:#E9E1D1
    style E1 fill:#1A1A1A,stroke:#660000,color:#E9E1D1
    style E2 fill:#1A1A1A,stroke:#660000,color:#E9E1D1
    style E3 fill:#1A1A1A,stroke:#660000,color:#E9E1D1
    style H fill:#000000,stroke:#660000,color:#E9E1D1
```

## üéØ –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —ç–∫—Ä–∞–Ω–æ–≤

### üîπ –≠–∫—Ä–∞–Ω 1 - Intro (`/intro`)

#### –í–∏–∑—É–∞–ª:
- **–§–æ–Ω**: –ß–∏—Å—Ç—ã–π —á–µ—Ä–Ω—ã–π `#000000`
- **–¶–µ–Ω—Ç—Ä**: –õ–æ–≥–æ—Ç–∏–ø PRIME Forge
  - –®—Ä–∏—Ñ—Ç: PRIME Slab One, 32px
  - –¶–≤–µ—Ç: `#E9E1D1` 
  - –ê–Ω–∏–º–∞—Ü–∏—è: fade + scale (300ms)
  - –≠—Ñ—Ñ–µ–∫—Ç: –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ –±–æ—Ä–¥–æ–≤–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ

#### –ö–Ω–æ–ø–∫–∏:
1. **"–ù–∞—á–∞—Ç—å –ø—É—Ç—å"**
   - –¢–∏–ø: Primary Button
   - –ì—Ä–∞–¥–∏–µ–Ω—Ç: `#660000` ‚Üí `#990000`
   - –¢–µ–∫—Å—Ç: `#E9E1D1`, 16px, medium
   - –ê–Ω–∏–º–∞—Ü–∏—è: slide-in —Å–Ω–∏–∑—É + –ª–µ–≥–∫–∏–π bounce

2. **"–£–∂–µ –≤ –ø—É—Ç–∏"**
   - –¢–∏–ø: Secondary Button  
   - –§–æ–Ω: –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π
   - –û–±–≤–æ–¥–∫–∞: 1px solid `#660000`
   - –¢–µ–∫—Å—Ç: `#660000`, 16px, medium

#### –õ–æ–≥–∏–∫–∞:
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- "–ù–∞—á–∞—Ç—å –ø—É—Ç—å" ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ Name Input
- "–£–∂–µ –≤ –ø—É—Ç–∏" ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ Login Screen

### üîπ –≠–∫—Ä–∞–Ω 2 - Name Input (`/onboarding/name`)

#### –í–∏–∑—É–∞–ª:
- **–§–æ–Ω**: –ß–µ—Ä–Ω—ã–π `#000000`
- **–ü—Ä–æ–≥—Ä–µ—Å—Å**: 1/4 (—Ç–æ—á–∫–∏ –≤–Ω–∏–∑—É)
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫**: "–ò–º—è"
  - –®—Ä–∏—Ñ—Ç: PRIME Slab One, 24px
  - –¶–≤–µ—Ç: `#E9E1D1`

#### –ü–æ–ª–µ –≤–≤–æ–¥–∞:
- **–°—Ç–∏–ª—å**: –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ
- **–§–æ–Ω**: `#1A1A1A`
- **–û–±–≤–æ–¥–∫–∞**: 1px solid `#333333`
- **Focus**: 2px solid `#660000`
- **Placeholder**: "–ò–º—è –≥–µ—Ä–æ—è"
- **–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞**: `#E9E1D1`

#### –í–∞–ª–∏–¥–∞—Ü–∏—è:
- –ú–∏–Ω–∏–º—É–º 1 —Å–∏–º–≤–æ–ª
- –ú–∞–∫—Å–∏–º—É–º 20 —Å–∏–º–≤–æ–ª–æ–≤
- –ö–∏—Ä–∏–ª–ª–∏—Ü–∞ –∏ –ª–∞—Ç–∏–Ω–∏—Ü–∞

### üîπ –≠–∫—Ä–∞–Ω 3 - Habits Selection (`/onboarding/habits`)

#### –í–∏–∑—É–∞–ª:
- **–§–æ–Ω**: –ß–µ—Ä–Ω—ã–π `#000000`  
- **–ü—Ä–æ–≥—Ä–µ—Å—Å**: 2/4
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫**: "–í—ã–±–µ—Ä–∏ —Å—Ç–∞—Ä—Ç"

#### –ö–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏–≤—ã—á–µ–∫:
```
üåÖ –†–∞–Ω–Ω–∏–π –ø–æ–¥—ä—ë–º    üìö –ß—Ç–µ–Ω–∏–µ
üèãÔ∏è‚Äç‚ôÇÔ∏è –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞      üßò –ú–µ–¥–∏—Ç–∞—Ü–∏—è
```

#### –°—Ç–∏–ª—å –∫–∞—Ä—Ç–æ—á–µ–∫:
- **–†–∞–∑–º–µ—Ä**: 160x120px
- **–§–æ–Ω**: `#1A1A1A` (–Ω–µ–∞–∫—Ç–∏–≤–Ω–∞—è), `#660000` (–≤—ã–±—Ä–∞–Ω–Ω–∞—è)
- **–û–±–≤–æ–¥–∫–∞**: 1px solid `#333333`
- **–†–∞–¥–∏—É—Å**: 8px
- **–ò–∫–æ–Ω–∫–∞**: 32x32px, `#E9E1D1`
- **–¢–µ–∫—Å—Ç**: System, 14px, `#E9E1D1`

#### –õ–æ–≥–∏–∫–∞:
- Multi-select (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å 2-4 –ø—Ä–∏–≤—ã—á–∫–∏)
- –ú–∏–Ω–∏–º—É–º 1 –ø—Ä–∏–≤—ã—á–∫–∞ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è
- –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ: scale + glow

### üîπ –≠–∫—Ä–∞–Ω 4 - Ready (`/onboarding/ready`)

#### –í–∏–∑—É–∞–ª:
- **–§–æ–Ω**: –ß–µ—Ä–Ω—ã–π `#000000`
- **–ü—Ä–æ–≥—Ä–µ—Å—Å**: 3/4  
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫**: "–ì–æ—Ç–æ–≤?"
  - –®—Ä–∏—Ñ—Ç: PRIME Slab One, 32px
  - –¶–≤–µ—Ç: `#E9E1D1`
  - –ü–æ–∑–∏—Ü–∏—è: —Ü–µ–Ω—Ç—Ä —ç–∫—Ä–∞–Ω–∞

#### –ö–Ω–æ–ø–∫–∞:
- **–¢–µ–∫—Å—Ç**: "–ù–∞—á–∞—Ç—å –ø—É—Ç—å"
- **–¢–∏–ø**: Primary Button (–±–æ–ª—å—à–∞—è)
- **–†–∞–∑–º–µ—Ä**: width: 200px, height: 56px
- **–≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏**: fade ‚Üí bounce ‚Üí –ø–µ—Ä–µ—Ö–æ–¥

### üîπ –≠–∫—Ä–∞–Ω 5 - Path Page (First Time)

#### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞:
- **–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ**: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, [–ò–º—è]!"
- **–ê–≤–∞—Ç–∞—Ä**: –°–∏–ª—É—ç—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **XP/RESPECT**: 0 (—Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –ø–æ—è–≤–ª–µ–Ω–∏—è)
- **–ü—Ä–∏–≤—ã—á–∫–∏**: –í—ã–±—Ä–∞–Ω–Ω—ã–µ –Ω–∞ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–µ –∫–∞–∫ "–∫–≤–µ—Å—Ç—ã –¥–Ω—è"
- **–ü–æ–¥—Å–∫–∞–∑–∫–∞**: "–°–¥–µ–ª–∞–π –ø–µ—Ä–≤—ã–π —à–∞–≥" (toast notification)

## üé® –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã

### –¢–∏–ø—ã –∞–Ω–∏–º–∞—Ü–∏–π:
1. **Fade In/Out**: `opacity 0‚Üí1` (200ms ease-out)
2. **Scale**: `scale 0.8‚Üí1.0` (300ms ease-out)  
3. **Slide In**: `translateY 50‚Üí0` (300ms ease-out)
4. **Bounce**: `scale 1.0‚Üí1.05‚Üí1.0` (150ms ease-in-out)
5. **Glow**: `boxShadow 0‚Üíblur(20px) #660000` (300ms)

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
- **–õ–æ–≥–æ—Ç–∏–ø**: fade + scale –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–ö–Ω–æ–ø–∫–∏**: slide-in —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 100ms
- **–ö–∞—Ä—Ç–æ—á–∫–∏**: staggered animation (–ø–æ 50ms)
- **–ü–µ—Ä–µ—Ö–æ–¥—ã**: fade-out (200ms) ‚Üí –Ω–æ–≤—ã–π —ç–∫—Ä–∞–Ω fade-in (200ms)

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```yaml
dependencies:
  shared_preferences: ^2.2.2  # –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
  animations: ^2.0.7          # –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:
```
lib/features/onboarding/
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ intro_page.dart
‚îÇ   ‚îú‚îÄ‚îÄ name_page.dart  
‚îÇ   ‚îú‚îÄ‚îÄ habits_selection_page.dart
‚îÇ   ‚îî‚îÄ‚îÄ ready_page.dart
‚îú‚îÄ‚îÄ widgets/
‚îÇ   ‚îú‚îÄ‚îÄ logo_with_glow.dart
‚îÇ   ‚îú‚îÄ‚îÄ habit_card.dart
‚îÇ   ‚îú‚îÄ‚îÄ progress_dots.dart
‚îÇ   ‚îú‚îÄ‚îÄ onboarding_button.dart
‚îÇ   ‚îî‚îÄ‚îÄ hero_name_input.dart
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ onboarding_data.dart
‚îÇ   ‚îî‚îÄ‚îÄ habit_model.dart
‚îî‚îÄ‚îÄ controllers/
    ‚îî‚îÄ‚îÄ onboarding_controller.dart
```

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö:
```dart
class OnboardingData {
  String? heroName;
  List<HabitModel> selectedHabits;
  bool isCompleted;
}

class HabitModel {
  String id;
  String name;
  String icon;
  String description;
}
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
```dart
class OnboardingStorage {
  static const String keyHeroName = 'hero_name';
  static const String keySelectedHabits = 'selected_habits';
  static const String keyOnboardingCompleted = 'onboarding_completed';
  
  Future<void> saveOnboardingData(OnboardingData data);
  Future<OnboardingData?> loadOnboardingData();
  Future<bool> isOnboardingCompleted();
}
```

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–æ—É—Ç–∏–Ω–≥–∞:
```dart
// –í router.dart –¥–æ–±–∞–≤–∏—Ç—å:
GoRoute(
  path: '/intro',
  builder: (context, state) => IntroPage(),
),
GoRoute(
  path: '/onboarding/name',
  builder: (context, state) => NamePage(),
),
// ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞:
```dart
// –í main.dart:
void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  final storage = OnboardingStorage();
  final isFirstLaunch = !(await storage.isOnboardingCompleted());
  
  runApp(PRIMEApp(initialRoute: isFirstLaunch ? '/intro' : '/login'));
}
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–∏–≤—ã—á–µ–∫:
```dart
// –í habits_page.dart:
void initializeFromOnboarding() async {
  final data = await OnboardingStorage().loadOnboardingData();
  if (data != null) {
    // –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫–∏ –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –Ω–∞ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–µ
    for (final habit in data.selectedHabits) {
      HabitsController.createHabit(habit);
    }
  }
}
```

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### Phase 1 - –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
- [ ] –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å onboarding
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—É—Ç–∏–Ω–≥
- [ ] –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏

### Phase 2 - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- [ ] LogoWithGlow –≤–∏–¥–∂–µ—Ç
- [ ] HabitCard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] ProgressDots –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
- [ ] –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–Ω–æ–ø–∫–∏

### Phase 3 - –õ–æ–≥–∏–∫–∞:
- [ ] OnboardingController
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≥–ª–∞–≤–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

### Phase 4 - –ü–æ–ª–∏—Ä–æ–≤–∫–∞:
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–π
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- [ ] Accessibility

## üé™ UX –¥–µ—Ç–∞–ª–∏

### –ú–∏–∫—Ä–æ–∏–Ω—Ç–µ—Ä–∞–∫—Ü–∏–∏:
- –ö–Ω–æ–ø–∫–∏ –∏–º–µ—é—Ç hover-—ç—Ñ—Ñ–µ–∫—Ç (scale 1.05)
- –ü–æ–ª—è –≤–≤–æ–¥–∞ –∞–Ω–∏–º–∏—Ä—É—é—Ç focus —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –ö–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏–≤—ã—á–µ–∫ –ø—É–ª—å—Å–∏—Ä—É—é—Ç –ø—Ä–∏ –≤—ã–±–æ—Ä–µ
- –ü–µ—Ä–µ—Ö–æ–¥—ã —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—Ç—Å—è haptic feedback

### –°–æ—Å—Ç–æ—è–Ω–∏—è –æ—à–∏–±–æ–∫:
- –ü—É—Å—Ç–æ–µ –∏–º—è: –ø–æ–ª–µ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–º + shake –∞–Ω–∏–º–∞—Ü–∏—è
- –ù–µ –≤—ã–±—Ä–∞–Ω—ã –ø—Ä–∏–≤—ã—á–∫–∏: –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—É–ª—å—Å–∏—Ä—É—é—Ç –æ—Ä–∞–Ω–∂–µ–≤—ã–º

### Accessibility:
- –í—Å–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–º–µ—é—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ labels
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ screen readers
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç —Ü–≤–µ—Ç–æ–≤
- –†–∞–∑–º–µ—Ä—ã touch targets –º–∏–Ω–∏–º—É–º 44x44px

---

**–í–µ—Ä—Å–∏—è**: 1.0  
**–°—Ç–∞—Ç—É—Å**: Ready for implementation üöÄ  
**–î–∞—Ç–∞**: 18.08.2025
